<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">    
    <title>IFE ECMAScript</title>
    <style>
        select {
            display: none;
        }
    </style>
</head>
<body>            
        <div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
        <button id="fade-btn">淡出</button>
</body>
<script>
    var ranc=document.getElementById("fade-obj");
    var btn=document.getElementById("fade-btn");
    var opacity=1;
    btn.onclick=fadeIn;

    function fadeIn(){
        if(opacity>0){
            setTimeout(fadeIn,100);
            opacity=opacity-0.02;
            ranc.style.opacity=opacity.toString();
            btn.disabled=true;
        }
        else{
            btn.disabled=false;
            btn.innerHTML="淡入";
            //btn.addEventListener("click",fadeOut);
            btn.onclick=fadeOut;
        }
    }
    function fadeOut(){
        if(opacity<1){
            setTimeout(fadeOut,100);
            opacity=opacity+0.02;
            ranc.style.opacity=opacity.toString();
            btn.disabled=true;
        }
        else{
            btn.disabled=false;
            btn.innerHTML="淡出";
            btn.onclick=fadeIn;
        }
    }
</script>
</html>